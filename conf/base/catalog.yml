## NON-SPARK ENTRIES ##

# Raw
employee_dataset_raw:
  type: pandas.CSVDataset
  filepath: data/01_raw/Employee_dataset.csv
  load_args:
    dtype_backend: numpy_nullable
    
employee_salaries_raw:
  type: pandas.CSVDataset
  filepath: data/01_raw/Employee_salaries.csv
  load_args:
    dtype_backend: numpy_nullable

# Cleaned
employee_salary_clean:
  type: pandas.ParquetDataset
  filepath: data/03_primary/employee_salary_clean.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

# Model Artifacts
linear_model:
  type: pickle.PickleDataset
  filepath: data/06_models/linear_model.pkl
  backend: joblib   # storing Torch state_dict in joblib pickle

nn_model:
  type: pickle.PickleDataset
  filepath: data/06_models/nn_model.pkl
  backend: joblib

# Metrics

linear_metrics:
  type: json.JSONDataset
  filepath: data/08_reporting/linear_metrics.json

nn_metrics:
  type: json.JSONDataset
  filepath: data/08_reporting/nn_metrics.json

# Predictions

linear_predictions:
  type: pandas.ParquetDataset
  filepath: data/07_model_output/linear_predictions.parquet
  save_args:
    index: False
  load_args:
    engine: pyarrow

nn_predictions:
  type: pandas.ParquetDataset
  filepath: data/07_model_output/nn_predictions.parquet
  save_args:
    index: False
  load_args:
    engine: pyarrow


## SPARK ENTRIES ##
# === RAW INPUTS (Spark) ===
employee_dataset_raw_spark:
  type: spark.SparkDataset
  filepath: data/01_raw/Employee_dataset.csv
  file_format: csv
  load_args:
    header: true
    inferSchema: true
    mode: PERMISSIVE

employee_salary_raw_spark:
  type: spark.SparkDataset
  filepath: data/01_raw/Employee_salaries.csv
  file_format: csv
  load_args:
    header: true
    inferSchema: true
    mode: PERMISSIVE

# === CLEAN MERGED OUTPUT (Spark) ===
employee_salary_clean_spark:
  type: spark.SparkDataset
  filepath: data/03_primary/employee_salary_clean_spark
  file_format: parquet
  save_args:
    mode: overwrite
  load_args:
    mergeSchema: true
