## NON-SPARK ENTRIES ##

# Raw
employee_dataset_raw:
  type: pandas.CSVDataset
  filepath: data/01_raw/Employee_dataset.csv
  load_args:
    dtype_backend: numpy_nullable
    
employee_salaries_raw:
  type: pandas.CSVDataset
  filepath: data/01_raw/Employee_salaries.csv
  load_args:
    dtype_backend: numpy_nullable

# Cleaned
employee_salary_clean:
  type: pandas.ParquetDataset
  filepath: data/03_primary/employee_salary_clean.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

# Feature Engineered
employee_dataset_features:
  type: pandas.ParquetDataset
  filepath: data/04_feature/employee_dataset_features.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

# Model Input
X_train:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/X_train.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

X_test:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/X_test.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

y_train:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/y_train.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

y_test:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/y_test.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

job_train:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/job_train.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

job_test:
  type: pandas.ParquetDataset
  filepath: data/05_model_input/job_test.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow

# Model Artifacts
nn_model:
  type: pickle.PickleDataset
  filepath: data/06_models/nn_model.pkl
  backend: joblib

# Reporting
nn_metrics:
  type: json.JSONDataset
  filepath: data/08_reporting/nn_metrics.json

nn_history:
  type: json.JSONDataset
  filepath: data/08_reporting/nn_history.json

nn_features:
  type: json.JSONDataset
  filepath: data/08_reporting/nn_features.json

# Predictions
nn_predictions:
  type: pandas.ParquetDataset
  filepath: data/07_model_output/nn_predictions.parquet
  save_args:
    index: False
  load_args:
    engine: pyarrow

# ==========================
# Linear Regression outputs
# ==========================
lr_model:
  type: pickle.PickleDataset
  filepath: data/06_models/lr_model.pkl

lr_metrics:
  type: json.JSONDataset
  filepath: data/08_reporting/lr_metrics.json

lr_predictions:
  type: pandas.ParquetDataset
  filepath: data/07_model_output/lr_predictions.parquet

lr_history:
  type: pickle.PickleDataset
  filepath: data/08_reporting/lr_history.pkl

lr_metadata:
  type: json.JSONDataset
  filepath: data/08_reporting/lr_metadata.json

lr_splits:
  type: pickle.PickleDataset
  filepath: data/05_model_input/lr_splits.pkl


# ==========================
# Random Forest outputs
# ==========================
rf_model:
  type: pickle.PickleDataset
  filepath: data/06_models/rf_model.pkl

rf_metrics:
  type: json.JSONDataset
  filepath: data/08_reporting/rf_metrics.json

rf_predictions:
  type: pandas.ParquetDataset
  filepath: data/07_model_output/rf_predictions.parquet

rf_history:
  type: pickle.PickleDataset
  filepath: data/08_reporting/rf_history.pkl

rf_metadata:
  type: json.JSONDataset
  filepath: data/08_reporting/rf_metadata.json

rf_splits:
  type: pickle.PickleDataset
  filepath: data/05_model_input/rf_splits.pkl

## SPARK ENTRIES ##
# === RAW INPUTS (Spark) ===
employee_dataset_raw_spark:
  type: spark.SparkDataset
  filepath: data/01_raw/Employee_dataset.csv
  file_format: csv
  load_args:
    header: true
    inferSchema: true
    mode: PERMISSIVE

employee_salary_raw_spark:
  type: spark.SparkDataset
  filepath: data/01_raw/Employee_salaries.csv
  file_format: csv
  load_args:
    header: true
    inferSchema: true
    mode: PERMISSIVE

# === CLEAN MERGED OUTPUT (Spark) ===
employee_salary_clean_spark:
  type: spark.SparkDataset
  filepath: data/03_primary/employee_salary_clean_spark
  file_format: parquet
  save_args:
    mode: overwrite
  load_args:
    mergeSchema: true

employee_features_spark:
  type: spark.SparkDataset
  file_format: parquet
  filepath: data/04_feature/employee_features_spark
  save_args:
    mode: overwrite